<!DOCTYPE html>
<html>
<head>
  <title>Admin Registration</title>
</head>
<body>
  <h2>Admin Registration</h2>
  <button onclick="login()">Login with LINE</button>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    async function login() {
      await liff.init({ liffId: 'your-liff-id' });
      if (!liff.isLoggedIn()) liff.login();
      else {
        const profile = await liff.getProfile();
        const userId = liff.getDecodedIDToken().sub;
        const name = profile.displayName;

        const sheetUrl = 'https://script.google.com/macros/s/AKfycbw794LR1VS-gWJkkRV529gofIbDtglHmtNgF407if-o62L8Z_n2gDAK14TJVgqcUST1UA/exec'; // หรือส่งไปที่ Apps Script แยก
        await fetch(sheetUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, lineUserId: userId })
        });

        alert('ลงทะเบียนแอดมินสำเร็จ');
      }
    }
  </script>
</body>
</html>
